# RSS Summarizer - Environment Variables Configuration
# Copy this file to .env and update the values below

# ============================================
# LM Studio Configuration (Required)
# ============================================
# LM Studio API endpoint (OpenAI-compatible /v1/chat/completions)
LM_STUDIO_URL=http://127.0.0.1:1234/v1/chat/completions
# Model name to use (as exposed by LM Studio)
LM_STUDIO_MODEL=llama3

# ============================================
# General Settings
# ============================================
# Log level: DEBUG / INFO / WARNING / ERROR
LOG_LEVEL=INFO
# Max characters in the main summary
SUMMARY_MAX_CHARS=1800

# ============================================
# Feeds Configuration
# ============================================
# Path to feeds.json (use a file, not FEEDS env var)
FEEDS_CONFIG_PATH=./feeds.json

# ============================================
# Article Fetch Pacing (Rate Control)
# ============================================
# Wait seconds before each article content fetch (0 disables wait)
ARTICLE_REQUEST_INTERVAL=0

# ============================================
# HTTP Client Settings (Headers / Retries)
# ============================================
# Override default browser-like headers if needed
# HTTP_UA=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124 Safari/537.36
# HTTP_ACCEPT_LANGUAGE=ja-JP, ja;q=0.9
# HTTP_ACCEPT=text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8

# Retry policy for transient errors (429/5xx)
HTTP_RETRY_TOTAL=3
HTTP_RETRY_BACKOFF=0.5

# ============================================
# Timeouts (seconds)
# ============================================
# RSS feed fetch timeout
FEED_TIMEOUT=60
# Article page fetch timeout
ARTICLE_TIMEOUT=30
# LM Studio API request timeout
SUMMARIZE_TIMEOUT=1200

# ============================================
# Summarization Call Limits
# ============================================
# 0 = unlimited calls per run
SUMMARIZE_MAX_CALLS=0
# Wait seconds between consecutive summarize calls
SUMMARIZE_INTERVAL=1.0

# ============================================
# Optional: Container / System
# ============================================
# TZ=Asia/Tokyo

# ============================================
# Notes
# ============================================
# - Do NOT define FEEDS as JSON here. Use feeds.json and set FEEDS_CONFIG_PATH above.
# - Keep webhook URLs only in feeds.json (it is .gitignored by default).
# - For Docker Compose, mount feeds.json read-only and data directory as a volume.
